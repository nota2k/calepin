<script setup>
import { ref } from 'vue'
import { RouterLink } from 'vue-router'

const isMobileMenuOpen = ref(false)

function toggleMobileMenu() {
  isMobileMenuOpen.value = !isMobileMenuOpen.value
}
</script>

<template>
  <header class="bg-white shadow-md sticky top-0 z-50">
    <nav class="container mx-auto px-4">
      <div class="flex items-center justify-between">
        <RouterLink to="/" class="flex items-center space-x-2 logo-wrapper">
          <img alt="Logo" src="@/assets/logo-calepin.svg" class="h-20 w-20" />
          <span class="text-xl font-bold text-gray-800">Calepin</span>
          <svg class="menu-scratch" width="144" height="97" viewBox="0 0 144 97" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M6.5 69.7908C6.5 69.6761 6.52859 69.2732 6.94159 67.8483C7.25701 66.76 8.06537 64.9594 12.1195 59.4546C16.1736 53.9498 23.5201 44.8028 29.5466 38.1116C35.573 31.4203 40.0569 27.4621 44.0666 24.3193C48.0763 21.1765 51.4761 18.9692 53.3312 17.9996C55.1863 17.03 55.3937 17.365 52.0831 25.597C48.7726 33.829 41.9376 49.9479 38.3573 59.0699C34.7769 68.1918 34.6582 69.8283 34.7136 70.8609C34.769 71.8935 35.002 72.2726 35.3711 72.5909C36.0966 73.2166 37.4298 73.4793 38.914 73.5711C40.623 73.6768 42.9564 73.2162 45.7492 72.4471C48.7595 71.618 51.4738 69.7752 54.659 67.2429C56.4813 65.7941 58.2496 63.8302 62.6005 57.8809C66.9514 51.9316 73.7105 42.0098 78.7117 35.2077C83.7129 28.4055 86.7514 25.0236 89.6148 22.1591C92.4782 19.2946 95.0744 17.0499 97.506 15.1668C99.9375 13.2837 102.126 11.8303 104.082 10.6376C109.983 7.03946 113.262 6.51825 114.518 6.50015C115.072 6.49216 115.399 6.80793 115.483 7.43102C115.567 8.05411 115.383 9.05709 107.812 19.9741C100.242 30.8911 85.2908 51.6916 76.9392 63.8377C68.5877 75.9838 67.2887 78.8451 66.5528 80.6987C65.523 83.2928 65.6106 84.4568 65.8918 85.0658C66.0148 85.3321 66.4754 85.4307 67.0938 85.4447C68.5768 85.4782 71.0336 84.5778 74.6428 82.6748C76.8037 81.5354 79.1127 79.7441 81.8176 77.5036C84.5224 75.2632 87.4201 72.5513 93.9594 64.2735C100.499 55.9958 110.592 42.2343 115.993 34.9596C121.393 27.6849 121.796 27.314 122.226 27.1034C122.656 26.8927 123.1 26.8536 123.419 27.0442C124.236 27.5333 124.164 29.4331 123.92 32.6773C123.776 34.5858 122.93 37.0009 118.419 44.8529C113.909 52.7049 105.589 65.914 101.174 73.7426C96.7592 81.5713 96.5015 83.6191 96.472 85.0258C96.4278 87.1386 97.3268 88.3487 98.3288 89.2348C99.2293 90.0311 100.851 90.367 102.554 90.4903C104.54 90.6341 107.307 89.1728 110.999 86.6311C113.161 85.1427 115.272 82.97 120.348 75.7301C125.425 68.4901 133.241 56.1769 137.5 49.56"
              stroke="#FF2E9A" stroke-width="13" stroke-linecap="round" />
          </svg>
        </RouterLink>

        <!-- Menu desktop -->
        <div class="hidden md:flex items-center space-x-6">
          <RouterLink to="/databases"
            class="menu-link text-gray-700 hover:text-blue-600 transition-colors font-medium relative"
            active-class="text-blue-600">
            <span class="relative z-10">Bases de données</span>
            <svg class="menu-scratch" width="144" height="97" viewBox="0 0 144 97" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M6.5 69.7908C6.5 69.6761 6.52859 69.2732 6.94159 67.8483C7.25701 66.76 8.06537 64.9594 12.1195 59.4546C16.1736 53.9498 23.5201 44.8028 29.5466 38.1116C35.573 31.4203 40.0569 27.4621 44.0666 24.3193C48.0763 21.1765 51.4761 18.9692 53.3312 17.9996C55.1863 17.03 55.3937 17.365 52.0831 25.597C48.7726 33.829 41.9376 49.9479 38.3573 59.0699C34.7769 68.1918 34.6582 69.8283 34.7136 70.8609C34.769 71.8935 35.002 72.2726 35.3711 72.5909C36.0966 73.2166 37.4298 73.4793 38.914 73.5711C40.623 73.6768 42.9564 73.2162 45.7492 72.4471C48.7595 71.618 51.4738 69.7752 54.659 67.2429C56.4813 65.7941 58.2496 63.8302 62.6005 57.8809C66.9514 51.9316 73.7105 42.0098 78.7117 35.2077C83.7129 28.4055 86.7514 25.0236 89.6148 22.1591C92.4782 19.2946 95.0744 17.0499 97.506 15.1668C99.9375 13.2837 102.126 11.8303 104.082 10.6376C109.983 7.03946 113.262 6.51825 114.518 6.50015C115.072 6.49216 115.399 6.80793 115.483 7.43102C115.567 8.05411 115.383 9.05709 107.812 19.9741C100.242 30.8911 85.2908 51.6916 76.9392 63.8377C68.5877 75.9838 67.2887 78.8451 66.5528 80.6987C65.523 83.2928 65.6106 84.4568 65.8918 85.0658C66.0148 85.3321 66.4754 85.4307 67.0938 85.4447C68.5768 85.4782 71.0336 84.5778 74.6428 82.6748C76.8037 81.5354 79.1127 79.7441 81.8176 77.5036C84.5224 75.2632 87.4201 72.5513 93.9594 64.2735C100.499 55.9958 110.592 42.2343 115.993 34.9596C121.393 27.6849 121.796 27.314 122.226 27.1034C122.656 26.8927 123.1 26.8536 123.419 27.0442C124.236 27.5333 124.164 29.4331 123.92 32.6773C123.776 34.5858 122.93 37.0009 118.419 44.8529C113.909 52.7049 105.589 65.914 101.174 73.7426C96.7592 81.5713 96.5015 83.6191 96.472 85.0258C96.4278 87.1386 97.3268 88.3487 98.3288 89.2348C99.2293 90.0311 100.851 90.367 102.554 90.4903C104.54 90.6341 107.307 89.1728 110.999 86.6311C113.161 85.1427 115.272 82.97 120.348 75.7301C125.425 68.4901 133.241 56.1769 137.5 49.56"
                stroke="#FF2E9A" stroke-width="13" stroke-linecap="round" />
            </svg>

          </RouterLink>
          <RouterLink to="/about"
            class="menu-link text-gray-700 hover:text-blue-600 transition-colors font-medium relative"
            active-class="text-blue-600">
            <span class="relative z-10">À propos</span>
            <svg class="menu-scratch" width="144" height="97" viewBox="0 0 144 97" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M6.5 69.7908C6.5 69.6761 6.52859 69.2732 6.94159 67.8483C7.25701 66.76 8.06537 64.9594 12.1195 59.4546C16.1736 53.9498 23.5201 44.8028 29.5466 38.1116C35.573 31.4203 40.0569 27.4621 44.0666 24.3193C48.0763 21.1765 51.4761 18.9692 53.3312 17.9996C55.1863 17.03 55.3937 17.365 52.0831 25.597C48.7726 33.829 41.9376 49.9479 38.3573 59.0699C34.7769 68.1918 34.6582 69.8283 34.7136 70.8609C34.769 71.8935 35.002 72.2726 35.3711 72.5909C36.0966 73.2166 37.4298 73.4793 38.914 73.5711C40.623 73.6768 42.9564 73.2162 45.7492 72.4471C48.7595 71.618 51.4738 69.7752 54.659 67.2429C56.4813 65.7941 58.2496 63.8302 62.6005 57.8809C66.9514 51.9316 73.7105 42.0098 78.7117 35.2077C83.7129 28.4055 86.7514 25.0236 89.6148 22.1591C92.4782 19.2946 95.0744 17.0499 97.506 15.1668C99.9375 13.2837 102.126 11.8303 104.082 10.6376C109.983 7.03946 113.262 6.51825 114.518 6.50015C115.072 6.49216 115.399 6.80793 115.483 7.43102C115.567 8.05411 115.383 9.05709 107.812 19.9741C100.242 30.8911 85.2908 51.6916 76.9392 63.8377C68.5877 75.9838 67.2887 78.8451 66.5528 80.6987C65.523 83.2928 65.6106 84.4568 65.8918 85.0658C66.0148 85.3321 66.4754 85.4307 67.0938 85.4447C68.5768 85.4782 71.0336 84.5778 74.6428 82.6748C76.8037 81.5354 79.1127 79.7441 81.8176 77.5036C84.5224 75.2632 87.4201 72.5513 93.9594 64.2735C100.499 55.9958 110.592 42.2343 115.993 34.9596C121.393 27.6849 121.796 27.314 122.226 27.1034C122.656 26.8927 123.1 26.8536 123.419 27.0442C124.236 27.5333 124.164 29.4331 123.92 32.6773C123.776 34.5858 122.93 37.0009 118.419 44.8529C113.909 52.7049 105.589 65.914 101.174 73.7426C96.7592 81.5713 96.5015 83.6191 96.472 85.0258C96.4278 87.1386 97.3268 88.3487 98.3288 89.2348C99.2293 90.0311 100.851 90.367 102.554 90.4903C104.54 90.6341 107.307 89.1728 110.999 86.6311C113.161 85.1427 115.272 82.97 120.348 75.7301C125.425 68.4901 133.241 56.1769 137.5 49.56"
                stroke="#FF2E9A" stroke-width="13" stroke-linecap="round" />
            </svg>
          </RouterLink>
        </div>

        <!-- Menu mobile -->
        <button @click="toggleMobileMenu" class="md:hidden text-gray-700 hover:text-blue-600">
          <svg v-if="!isMobileMenuOpen" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
          <svg v-else class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Menu mobile déroulant -->
      <div v-if="isMobileMenuOpen" class="md:hidden mt-4 pb-4 border-t border-gray-200">
        <div class="flex flex-col space-y-3 pt-4">
          <RouterLink to="/databases" @click="toggleMobileMenu"
            class="text-gray-700 hover:text-blue-600 transition-colors font-medium" active-class="text-blue-600">
            Bases de données
          </RouterLink>
          <RouterLink to="/about" @click="toggleMobileMenu"
            class="text-gray-700 hover:text-blue-600 transition-colors font-medium" active-class="text-blue-600">
            À propos
          </RouterLink>
        </div>
      </div>
    </nav>
  </header>
</template>
